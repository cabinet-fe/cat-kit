var __defProp=Object.defineProperty,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__publicField=(e,t,n)=>__defNormalProp(e,"symbol"!=typeof t?t+"":t,n);!function(){"use strict";const e=new TextEncoder;const t="0123456789abcdef".split("");function n(e){return e.map((e=>function(e){let n="";for(let r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}(e))).join("")}function r(e,t){let n=e[0],r=e[1],s=e[2],i=e[3];n+=(r&s|~r&i)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&s)+t[1]-389564586|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&r)+t[2]+606105819|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&i)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&s)+t[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&r)+t[6]-1473231341|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&i)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&s)+t[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&r)+t[10]-42063|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&i)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&s)+t[13]-40341101|0,i=(i<<12|i>>>20)+n|0,s+=(i&n|~i&r)+t[14]-1502002290|0,s=(s<<17|s>>>15)+i|0,r+=(s&i|~s&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+s|0,n+=(r&i|s&~i)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&s|r&~s)+t[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,s+=(i&r|n&~r)+t[11]+643717713|0,s=(s<<14|s>>>18)+i|0,r+=(s&n|i&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+s|0,n+=(r&i|s&~i)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&s|r&~s)+t[10]+38016083|0,i=(i<<9|i>>>23)+n|0,s+=(i&r|n&~r)+t[15]-660478335|0,s=(s<<14|s>>>18)+i|0,r+=(s&n|i&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+s|0,n+=(r&i|s&~i)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&s|r&~s)+t[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,s+=(i&r|n&~r)+t[3]-187363961|0,s=(s<<14|s>>>18)+i|0,r+=(s&n|i&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+s|0,n+=(r&i|s&~i)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&s|r&~s)+t[2]-51403784|0,i=(i<<9|i>>>23)+n|0,s+=(i&r|n&~r)+t[7]+1735328473|0,s=(s<<14|s>>>18)+i|0,r+=(s&n|i&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+s|0,n+=(r^s^i)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^s)+t[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^r)+t[11]+1839030562|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^i)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^s)+t[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^r)+t[7]-155497632|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^i)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^s)+t[0]-358537222|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^r)+t[3]-722521979|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^i)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^s)+t[12]-421815835|0,i=(i<<11|i>>>21)+n|0,s+=(i^n^r)+t[15]+530742520|0,s=(s<<16|s>>>16)+i|0,r+=(s^i^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+s|0,n+=(s^(r|~i))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~s))+t[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~r))+t[14]-1416354905|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~i))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~s))+t[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~r))+t[10]-1051523|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~i))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~s))+t[15]-30611744|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~r))+t[6]-1560198380|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~i))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~s))+t[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,s+=(n^(i|~r))+t[2]+718787259|0,s=(s<<15|s>>>17)+i|0,r+=(i^(s|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+s|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=s+e[2]|0,e[3]=i+e[3]|0}function s(e){let t=[];for(let n=0;n<64;n+=4)t[n>>2]=e[n]+(e[n+1]<<8)+(e[n+2]<<16)+(e[n+3]<<24);return t}class i{constructor(){__publicField(this,"u8a"),__publicField(this,"length"),__publicField(this,"_hash"),this.reset()}update(e){if(!this.u8a)return;const t=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),n}(this.u8a.buffer,e instanceof Uint8Array?e.buffer:e),n=t.length;let i;for(this.length+=e.byteLength,i=64;i<=n;i+=64)r(this._hash,s(t.subarray(i-64,i)));return this.u8a=i-64<n?new Uint8Array(t.buffer.slice(i-64)):new Uint8Array(0),this}finalize(){const{u8a:e}=this;if(!e)return;const t=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(let n=0;n<t;n+=1)r[n>>2]|=e[n]<<(n%4<<3);this.finish(r,t);const s=n(this._hash);return this.reset(),s}reset(){return this.u8a=new Uint8Array,this.length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this}destroy(){delete this.u8a,delete this.length,delete this._hash}finish(e,t){if(!this._hash)return;let n,s,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(r(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(8*this.length).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=s,e[15]=i,r(this._hash,e)}}function o(t){const n=new i;var r;n.update((r=t,e.encode(r)));const s=n.finalize();return n.destroy(),s}function a(e,t){return e instanceof Blob?function(e,t){return new Promise(((n,r)=>{const{chunkSize:s=10485760,onProgress:o}=t||{},a=new i,h=new FileReader;let u=0;h.onload=function(){const t=h.result;a.update(t),u+=t.byteLength,null==o||o(Math.round(u/e.size*100)),u<e.size?h.readAsArrayBuffer(e.slice(u,u+s)):(n(a.finalize()),a.destroy())},h.onerror=function(){r("读取文件失败"),a.destroy()},h.readAsArrayBuffer(e.slice(u,u+s))}))}(e,t):Promise.resolve(o(e))}new TextEncoder,new TextDecoder,onmessage=async function(e){const t=await a(e.data,{chunkSize:2097152,onProgress(e){postMessage({event:"progress",data:e})}});postMessage({event:"end",data:t})}}();
