# @cat-kit/crypto 加密库

该文件是加密库的设计文件。

## 依赖

依赖 `@cat-kit/core` 包。

## 全局要求

- 同时支持浏览器(现代浏览器)端和 nodejs(版本大于 22)端。
- 代码要足够模块化，以便于构建工具可以进行 tree-shaking 优化。
- 代码要足够简单，不要引入额外的依赖。
- 代码要足够性能，不要存在性能问题。
- 代码要足够可读，不要存在可读性问题。
- 加密和摘要算法要能够计算超大文件，不能出现 OOM 问题。

## 现代浏览器问题

现代浏览器已经实现了相当多的加密算法，不过需要在 HTTPS 环境下才能使用。因此加密算法需要考虑三种情况：

1. 浏览器环境，HTTPS 环境。此时可以使用浏览器的加密算法。
2. 浏览器环境，HTTP 环境。此时不能使用浏览器的加密算法，需要使用纯 JS 实现。
3. Node 环境。此时可以使用 Node 的加密算法。

## 代码复用

加密和摘要算法的底层都是基于二进制实现的，因此可以将底层的二进制操作抽离出来，供上层算法使用。

## 代码结构

- src/base。基础模块，包含二进制操作等基础功能。
- src/symmetric/block-cipher。对称加密基础类。
- src/symmetric/aes。AES 加密算法。
- src/hash/hasher。摘要算法基础类。
- src/hash/md5。MD5 摘要算法。
- src/hash/sha。SHA 摘要算法, 主要包含 SHA256 和 SHA512。
- src/id。id 生成器。

## 具体设计文件

[AES](./aes.design.md)
[MD5](./md5.design.md)
