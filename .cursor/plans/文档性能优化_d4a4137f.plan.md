---
name: 文档性能优化
overview: 移除文档站点中的死代码和未使用的资源，精简 CSS 样式代码，删除空目录，减少不必要的代码量以提升性能和可维护性。
todos:
  - id: remove-ink-particles
    content: 删除未使用的 InkParticles.vue 组件
    status: completed
  - id: clean-index-css
    content: 移除 index.md 中未使用的 inkSpread 动画
    status: completed
  - id: clean-custom-css
    content: 移除 custom.css 中未使用的辅助类
    status: completed
  - id: remove-empty-utils
    content: 删除空的 utils/ 目录
    status: completed
  - id: simplify-shared
    content: 精简 shared.ts 中的路径计算代码
    status: completed
---

# 文档性能优化计划

## 问题分析

通过代码审查发现以下未使用的代码和死代码：

### 1. 死代码组件

- [`InkParticles.vue`](docs/.vitepress/theme/components/InkParticles.vue) - 粒子动画组件，在整个项目中无任何引用

### 2. 未使用的 CSS

- [`index.md`](docs/content/index.md) 中定义的 `@keyframes inkSpread` 动画（第96-107行）未被任何元素使用
- [`custom.css`](docs/.vitepress/theme/styles/custom.css) 中的 `.text-ink` 和 `.bg-paper` 辅助类（第290-295行）无任何使用

### 3. 空目录

- [`utils/`](docs/.vitepress/utils/) 目录为空，无实际内容

### 4. 可精简的代码

- [`shared.ts`](docs/.vitepress/shared.ts) 中的 `__filename`、`__dirname` 变量仅用于计算目录路径，可以内联简化

---

## 优化方案

### 方案一：删除死代码组件

删除 `docs/.vitepress/theme/components/InkParticles.vue` 文件。

### 方案二：清理 index.md 中的未使用 CSS

移除 `@keyframes inkSpread` 动画定义（约11行代码）。

### 方案三：清理 custom.css 中的未使用样式

移除 `.text-ink` 和 `.bg-paper` 辅助类（约6行代码）。

### 方案四：删除空目录

删除 `docs/.vitepress/utils/` 空目录。

### 方案五：精简 shared.ts

将路径计算逻辑内联，移除不必要的中间变量。---