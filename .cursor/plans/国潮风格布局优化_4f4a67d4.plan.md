---
name: 国潮风格布局优化
overview: 通过充分利用 VitePress 的 Layout Slots 机制，在 CatKitLayout.vue 中注入丰富的国潮装饰元素，包括动态水墨粒子、祥云纹样、印章装饰、毛笔书法线条等，同时配合 CSS 动画和交互效果，打造令人眼前一亮的国风文档站点。
todos:
  - id: create-cloud-patterns
    content: 创建 CloudPatterns.vue 祥云纹样装饰组件
    status: completed
  - id: create-seal-stamp
    content: 创建 SealStamp.vue 印章落款装饰组件
    status: completed
  - id: create-ink-particles
    content: 创建 InkParticles.vue 动态墨滴粒子组件
    status: completed
  - id: create-brush-strokes
    content: 创建 BrushStrokes.vue 毛笔线条装饰组件
    status: completed
  - id: update-layout
    content: 改造 CatKitLayout.vue 注入所有装饰组件
    status: completed
  - id: update-css
    content: 更新 custom.css 添加国潮色彩变量和动画
    status: completed
---

# 国潮风格 CatKitLayout 彻底优化方案

## 现状分析

当前 [`CatKitLayout.vue`](docs/.vitepress/theme/CatKitLayout.vue) 仅使用了 `#layout-bottom` 插槽注入 `InkBackground` 组件，装饰元素过于单一，国潮氛围不够浓厚。

根据 VitePress 文档，Layout 组件提供了丰富的插槽可供利用：

**首页专用插槽**:
- `home-hero-before` / `home-hero-after`
- `home-hero-info-before` / `home-hero-info-after`
- `home-hero-image`
- `home-features-before` / `home-features-after`

**全局插槽**:
- `layout-top` / `layout-bottom`
- `nav-bar-title-before` / `nav-bar-title-after`
- `nav-bar-content-before` / `nav-bar-content-after`

## 优化方案

### 1. 新增装饰组件

| 组件名 | 位置 | 效果 |
|--------|------|------|
| `CloudPatterns.vue` | `home-hero-before` | 祥云纹样漂浮装饰，飘动动画 |
| `SealStamp.vue` | `home-hero-after` | 印章/落款装饰，增加古典气息 |
| `InkParticles.vue` | `layout-top` | 动态墨滴粒子，鼠标交互 |
| `BrushStrokes.vue` | `home-features-before` | 毛笔书法线条分隔装饰 |

### 2. CatKitLayout.vue 改造

```vue
<template>
  <DefaultLayout>
    <!-- 全局装饰层 -->
    <template #layout-top>
      <InkParticles />
    </template>

    <!-- 首页英雄区装饰 -->
    <template #home-hero-before>
      <CloudPatterns position="top" />
    </template>

    <template #home-hero-after>
      <SealStamp />
    </template>

    <!-- 特性区分隔装饰 -->
    <template #home-features-before>
      <BrushStrokes />
    </template>

    <!-- 背景层 -->
    <template #layout-bottom>
      <InkBackground />
    </template>
  </DefaultLayout>
</template>
```

### 3. 装饰元素设计细节

**祥云纹样 (CloudPatterns)**:
- SVG 路径绘制传统祥云图案
- CSS 动画实现缓慢飘动效果
- 低透明度，不喧宾夺主
- 响应暗色模式切换颜色

**印章装饰 (SealStamp)**:
- 仿古印章效果 (方形/圆形可选)
- 可配置文字如 "喵喵工具箱"
- 使用 SVG filter 实现做旧/斑驳效果
- 位于 Hero 区右下角

**墨滴粒子 (InkParticles)**:
- Canvas 或 CSS 实现动态墨滴
- 鼠标悬浮产生涟漪效果
- 粒子缓慢下落并消散
- 尊重 `prefers-reduced-motion`

**毛笔线条 (BrushStrokes)**:
- SVG 绘制毛笔横向笔触
- 入场时笔画展开动画
- 作为章节分隔装饰

### 4. CSS 变量扩展

在 [`custom.css`](docs/.vitepress/theme/styles/custom.css) 中添加国潮专用色彩变量：

```css
:root {
  /* 国潮点缀色 */
  --guochao-vermilion: #e54d42;  /* 朱砂红 - 印章 */
  --guochao-gold: #c9a86c;        /* 鎏金 - 强调 */
  --guochao-jade: #68b88e;        /* 青玉 - 点缀 */
  --guochao-indigo: #2f4f7f;      /* 靛蓝 - 装饰 */
}
```

### 5. 动画与交互

- 所有装饰元素入场采用墨韵渐显动画
- 滚动时祥云产生视差效果
- 印章 hover 时微微旋转
- 尊重用户动画偏好设置

## 文件变更清单

| 操作 | 文件路径 |
|------|----------|
| 创建 | `docs/.vitepress/theme/components/CloudPatterns.vue` |
| 创建 | `docs/.vitepress/theme/components/SealStamp.vue` |
| 创建 | `docs/.vitepress/theme/components/InkParticles.vue` |
| 创建 | `docs/.vitepress/theme/components/BrushStrokes.vue` |
| 修改 | `docs/.vitepress/theme/CatKitLayout.vue` |
| 修改 | `docs/.vitepress/theme/styles/custom.css` |

## 技术要点

- 使用 VitePress `useData()` 获取页面信息，仅在首页显示特定装饰
- SVG 路径复用，减少代码体积
- CSS 变量保证主题一致性
- 动画使用 `will-change` 优化性能
- 所有装饰设置 `pointer-events: none` 不影响交互